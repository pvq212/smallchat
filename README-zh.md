# Go 聊天服务器

代码基于 antirez 的 [smallchat](https://github.com/antirez/smallchat) 项目进行了Go语言版本的改造。提供了一个简易的 Go 聊天服务器，使用 Go 的并发和网络库，为多个客户端提供了通过 TCP 连接进行沟通的聊天服务。

## 特性

- 支持多客户端通过 TCP 连接。
- 客户端可以通过 `/nick` 命令设置昵称。
- 将消息广播到所有已连接的客户端。
- 设置最大客户端限制，防止服务器超载。
- 优雅处理客户端断开连接。

## 开始使用

### 先决条件

在运行此服务器之前，需要在您的系统上安装 Go。您可以从 [官方网站](https://golang.org/dl/) 下载并安装 Go。

### 安装

要开始使用这个聊天服务器，您需要将此代码库克隆到您的本地计算机。可以运行以下命令来完成此操作：

```sh
git clone https://github.com/yaocanwei/smallchat.git
```

克隆代码库后，导航到代码库所在的目录，并使用 Go 构建命令构建服务器：

```sh
go build
```

### 运行服务器

要运行服务器，只需执行构建的二进制文件：

```sh
./main
```

服务器将启动并开始在 7712 端口监听进来的 TCP 连接。

### 连接客户端

要将客户端连接到服务器，使用任何 TCP 客户端，如 `netcat` 或 `telnet`：

```sh
telnet localhost 7712
```

连接后，您可以使用 `/nick` 命令和您希望的昵称来设置昵称：

```
/nick YourNickname
```

设置昵称后，您输入的任何文本都会发送给所有连接的客户端。

## 架构

服务器采用并发设计，每个客户端连接在单独的协程中处理。这允许服务器具有可扩展性并能响应客户端处理需求。

- `ChatSystem` 结构 - 包含核心聊天逻辑，包括观察者管理和消息广播。
- `Client` 结构 - 代表已连接的客户端，负责发送和接收消息。

## 代码结构

- `main.go` - 服务器的入口点，初始化聊天系统并监听客户端连接。

## 开发

请随意分叉并扩展该聊天服务器的功能。您可以根据需要添加新功能，如私人消息、聊天室和用户认证等。

## 贡献

欢迎贡献！对于重大更改，请先开一个 issue 来讨论您希望进行的更改。请确保适当更新测试。

## 许可证

该项目采用 MIT 许可证开源。详见 [LICENSE](LICENSE) 文件。

---

上述 README 模板应添加到您的代码库中，并根据具体的 GitHub 用户名和代码库信息进行相应的修改。确保在您的代码库中也添加了包含 MIT 许可证文本的 LICENSE 文件。
